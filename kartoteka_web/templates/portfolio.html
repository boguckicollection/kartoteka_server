{% extends "base.html" %}
{% block title %}Portfel - Kartoteka{% endblock %}
{% block content %}
<section class="page-hero">
  <div>
    <p class="eyebrow">Analiza kolekcji</p>
    <h1>Portfel kolekcjonera</h1>
    <p>Sprawdzaj aktualną wartość oraz skalę swojej kolekcji i porównuj wyniki z poprzednimi odczytami.</p>
    <div class="hero-actions">
      <a class="button secondary" href="/dashboard">Powrót do kolekcji</a>
      <button id="refresh-portfolio" class="primary" type="button">Odśwież wartość</button>
    </div>
  </div>
</section>

<section class="panel portfolio-performance-panel">
  <div class="panel-header">
    <div>
      <h2 id="portfolio-chart-heading">Wartość portfela</h2>
      <p>Monitoruj zmianę wartości kolekcji w czasie.</p>
    </div>
    <div class="portfolio-change" id="portfolio-change" data-direction="flat">
      <span class="portfolio-change-icon" aria-hidden="true">→</span>
      <div>
        <strong id="portfolio-change-value">0.00 PLN</strong>
        <span>Zmiana w 24h</span>
      </div>
    </div>
  </div>
  <div class="portfolio-chart-wrapper">
    <div
      class="portfolio-chart"
      id="portfolio-chart"
      role="group"
      aria-live="polite"
      aria-labelledby="portfolio-chart-heading"
    >
      <p>Ładuję dane wykresu…</p>
    </div>
    <div class="portfolio-chart-meta">
      <div class="portfolio-chart-stats">
        <div>
          <span>Aktualna wartość</span>
          <strong id="portfolio-chart-latest" data-direction="flat">-</strong>
        </div>
        <div>
          <span>Minimum (7 dni)</span>
          <strong id="portfolio-chart-min">-</strong>
        </div>
        <div>
          <span>Maksimum (7 dni)</span>
          <strong id="portfolio-chart-max">-</strong>
        </div>
      </div>
      <div class="portfolio-chart-range">
        <span>Zakres danych</span>
        <strong id="portfolio-chart-range">-</strong>
      </div>
    </div>
  </div>
</section>

<section class="panel">
  <div class="panel-header">
    <div>
      <h2>Podsumowanie portfela</h2>
      <p>Kluczowe wskaźniki obejmujące liczbę wpisów, egzemplarzy i całkowitą wartość kolekcji.</p>
    </div>
  </div>
  <div class="stat-grid" id="portfolio-overview">
    <article class="stat-card">
      <h3>Wpisy w kolekcji</h3>
      <p id="portfolio-count">0</p>
      <span>Unikalne rekordy w bazie</span>
    </article>
    <article class="stat-card">
      <h3>Łączna ilość kart</h3>
      <p id="portfolio-quantity">0</p>
      <span>Sumaryczna liczba egzemplarzy</span>
    </article>
    <article class="stat-card">
      <h3>Szacowana wartość [PLN]</h3>
      <p id="portfolio-value">0.00</p>
      <span>Wycena portfela na podstawie aktualnych danych</span>
    </article>
  </div>
  <div class="alert" id="portfolio-alert" hidden></div>
</section>

<section class="panel">
  <div class="panel-header">
    <div>
      <h2>Karty w portfelu</h2>
      <p>Przeglądaj zapisane karty wraz z ich aktualną wyceną i szczegółami.</p>
    </div>
  </div>
  <div class="portfolio-grid" id="portfolio-cards"></div>
  <p class="portfolio-empty" id="portfolio-empty" hidden>Brak kart w portfelu. Dodaj pozycje do kolekcji, aby pojawiły się w tym miejscu.</p>
</section>
{% endblock %}
